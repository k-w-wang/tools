import{r as c,j as y,a as e,F as k}from"./index-7cd6cfe8.js";import{T as h,S as v,I as x,B as S,a as I}from"./index-b37a112c.js";import{m as b}from"./index-52959e77.js";const g=(a,r=0,o="id",s="children")=>[].concat(...a.map(n=>{const l=JSON.parse(JSON.stringify(n[s]));return Reflect.deleteProperty(n,s),[].concat({...n,pId:r},...g(l,n[o],o,s))}));const F=({onPost:a,imgUrl:r,...o})=>{const[s,n]=c.exports.useState("comment-input"),[l,d]=c.exports.useState(""),p=()=>{n("comment-input comment-input-focus")},f=()=>{n("comment-input")},t=m=>{d(m.target.value)},u=()=>{typeof a=="function"&&a(l)},T=c.exports.useMemo(()=>l==="",[l]);return y("span",{className:s,children:[r!=null&&r!==""?e("img",{className:"input-prefix",src:r}):e(k,{}),e("input",{onFocus:p,onBlur:f,onChange:m=>t(m),type:"text",...o}),e("button",{disabled:T,onClick:u,children:"Post"})]})},{Title:i}=h,C=[{id:1,children:[{id:2,children:[{id:3,children:[]}]},{id:6,children:[]}]},{id:4,children:[{id:5,children:[]}]}],J=()=>{const[a,r]=c.exports.useState(()=>JSON.stringify(C,null,4)),[o,s]=c.exports.useState(),n=t=>{r(t)},l=()=>{try{const t=JSON.parse(a),u=g(t);s(JSON.stringify(u,null,4))}catch(t){console.log(t),b.error(t.message)}},d=[{key:"1",params:"arr",explain:"必填，需要转化的嵌套树结构数据",type:"arr[]  ",default:"-"},{key:"2",params:"pId",explain:"可选项, 第一层节点的父节点ID",type:"string ｜ number",default:"0"},{key:"3",params:"pKey",explain:"可选项, 父节点id的key值",type:"string",default:"id"},{key:"4",params:"childKey",explain:"可选项, 嵌套的子节点key值",type:"string",default:"children"}],p=[{title:"参数",dataIndex:"params",key:"params"},{title:"说明",dataIndex:"explain",key:"explain"},{title:"类型",dataIndex:"type",key:"type"},{title:"默认值",dataIndex:"default",key:"default"}];return y(h,{children:[e(F,{placeholder:"add commnt",onPost:t=>{console.log(t)},imgUrl:"https://p3-passport.byteimg.com/img/user-avatar/dbe68af40bc02e65b8f1ff4a191c1ad8~100x100.awebp"}),e(i,{children:"TreeToFlat"}),e(i,{level:5,children:"TreeToFlat是一个把嵌套树结构转化为数组结构的方法。"}),e(i,{level:3,children:"代码演示"}),e(i,{level:4,children:"基础用法"}),y(v,{children:[e(x.TextArea,{style:{width:400},rows:30,onChange:t=>n(t.target.value),value:a}),e(S,{type:"primary",onClick:l,children:"转化"}),e(x.TextArea,{style:{width:400},rows:30,value:o})]}),e(i,{level:3,children:"API"}),e("pre",{children:e(h.Text,{code:!0,children:"nestedToFlat(arr: any[], pId?: string | number | undefined, pKey?: string | undefined, childKey?: string | undefined): any[]"})}),e(i,{level:3,children:"Params"}),e(I,{dataSource:d,columns:p,pagination:!1})]})};export{J as default};
