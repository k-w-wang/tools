import{r as a,a as p,R as b,j as R,b1 as S}from"./index-825fb5b3.js";import{d as E}from"./debounce-4e606a1d.js";function C({content:g,onSplitChange:h}){const e=a.exports.useRef(null),n=a.exports.useRef([]).current,[s,c]=a.exports.useState(null),[l,d]=a.exports.useState({x:0,y:0}),[i,y]=a.exports.useState({x:0,y:0});return a.exports.useEffect(()=>{var r;if(e.current==null)return;const t=document.createTextNode(g);(r=e.current)==null||r.appendChild(t);const x=E(()=>{var v;const o=(v=e.current)==null?void 0:v.getBoundingClientRect();n.length=0;for(let m=1;m<t.length;m++){const f=document.createRange();f.setStart(t,m),f.setEnd(t,m+1),n.push({left:f.getBoundingClientRect().left-((o==null?void 0:o.left)??0),right:f.getBoundingClientRect().right-((o==null?void 0:o.left)??0),top:f.getBoundingClientRect().top-((o==null?void 0:o.top)??0),bottom:f.getBoundingClientRect().bottom-((o==null?void 0:o.top)??0)})}},1e3,!0),u=new ResizeObserver(()=>{x()});return u.observe(e.current),()=>{u.disconnect()}},[g]),a.exports.useEffect(()=>{var t,x;return(t=e.current)==null||t.addEventListener("mousemove",u=>{var v,m;const r=(v=e.current)==null?void 0:v.getBoundingClientRect(),o=(m=e.current)==null?void 0:m.scrollTop;y({x:u.clientX-((r==null?void 0:r.left)??0),y:u.clientY-((r==null?void 0:r.top)??0)+(o??0)})}),(x=e.current)==null||x.addEventListener("mouseleave",u=>{y({x:0,y:0})}),()=>{var u,r;(u=e.current)==null||u.removeEventListener("mousemove",()=>{console.log("remove mousemove")}),(r=e.current)==null||r.removeEventListener("mouseleave",()=>{console.log("remove mousemove")})}},[]),a.exports.useEffect(()=>{if(i.x===0||i.y===0){c(null),d({x:0,y:0});return}n.forEach((t,x)=>{t.left<=i.x&&t.right>=i.x&&t.top<=i.y&&t.bottom>=i.y&&(d({x:t.left-2,y:t.top}),c(x+1))})},[i]),p("div",{ref:e,title:"\u70B9\u51FB\u4EFB\u610F\u4F4D\u7F6E\u62C6\u5206",className:"content",style:{border:"1px dashed #3c85f0",padding:4,maxHeight:50,overflowY:"auto"},onClick:()=>{if(s==null)return;const t=[g.substring(0,s),g.substring(s)];h(t)},children:l.x!==0&&l.y!==0&&p("span",{className:"content-before",style:{left:l.x,top:l.y}})})}function B({content:g,className:h,onChange:e}){const[n,s]=a.exports.useState([g]),c=(l,d)=>{s(()=>(n.splice(d,1,...l),[...n])),e==null||e(n)};return p("div",{className:h,style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map((l,d)=>p(C,{content:l,onSplitChange:i=>c(i,d)},l+d.toString()))})}const N=()=>{const[g,h]=b.useState(["\u5929\u58E4\u5C06\u6839\u636E\u672C\u534F\u8BAE\u7EA6\u5B9A\u5411\u7528\u6237\u63D0\u4F9B\u5929\u58E4\u5C0F\u767D\u7684\u4F7F\u7528\u6743\u53CA\u76F8\u5173\u670D\u52A1\u3002\xA0\u7528\u6237\u7406\u89E3\u5E76\u8BA4\u53EF\uFF0C\u5728\u5929\u58E4\u5C0F\u767D\u7F51\u7AD9\u4E0A\u6CE8\u518C\u8D26\u53F7\u65F6\u6216\u5F00\u59CB\u4F7F\u7528\u5929\u58E4\u5C0F\u767D\u5404\u529F\u80FD\u6A21\u5757\u7B49\u884C\u4E3A\uFF0C\u8868\u660E\u7528\u6237\u540C\u610F\u672C\u534F\u8BAE\u7684\u5168\u90E8\u5185\u5BB9\uFF0C\u5E76\u5C06\u4E25\u683C\u6309\u7167\u672C\u534F\u8BAE\u7EA6\u5B9A\u5C65\u884C\u534F\u8BAE\u9879\u4E0B\u5168\u90E8\u4E49\u52A1\u3002\u82E5\u60A8\u4E3A\u672A\u6210\u5E74\u4EBA\uFF0C\u5E94\u5728\u6CD5\u5B9A\u76D1\u62A4\u4EBA\u76D1\u62A4\u3001\u6307\u5BFC\u4E0B\u9605\u8BFB\u672C\u6761\u6B3E\uFF0C\u5E76\u5728\u53D6\u5F97\u6CD5\u5B9A\u76D1\u62A4\u4EBA\u7684\u540C\u610F\u540E\u4F7F\u7528\u5929\u58E4\u5C0F\u767D\u3002\u8BF7\u7528\u6237\u52A1\u5FC5\u5BA1\u614E\u9605\u8BFB\u3001\u5145\u5206\u7406\u89E3\u672C\u534F\u8BAE\u5404\u6761\u6B3E\u5185\u5BB9\uFF0C\u7279\u522B\u662F\u514D\u9664\u6216\u8005\u9650\u5236\u8D23\u4EFB\u7684\u6761\u6B3E\uFF0C\u9650\u5236\u3001\u514D\u8D23\u6761\u6B3E\u5C06\u4EE5\u52A0\u7C97\u5F62\u5F0F\u63D0\u793A\u7528\u6237\u6CE8\u610F\xA0\u3002\u5982\u679C\u7528\u6237\u5BF9\u672C\u534F\u8BAE\u6709\u4EFB\u4F55\u7591\u95EE\uFF0C\u53EF\u4EE5\u901A\u8FC7\xA0\xA0xiaobai@tianrang-inc.com\u4E0E\u6211\u4EEC\u8054\u7CFB\u3002\u672C\u534F\u8BAE\u81EA\u7528\u6237\u5F00\u59CB\u4F7F\u7528\u5929\u58E4\u5C0F\u767D\u5404\u529F\u80FD\u6A21\u5757\u65F6\u6210\u7ACB\u5E76\u5F00\u59CB\u751F\u6548\u3002","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01","\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01"]),e=(n,s)=>{h(c=>(c.splice(s,1,...n),[...c]))};return R(S,{children:[p("h1",{children:"V1\u7248\u672C"}),p(B,{content:"\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u5B57\uFF01",onChange:n=>{console.log(n)}},"v1"),p("h1",{children:"V2\u7248\u672C"}),p("div",{style:{display:"flex",flexDirection:"column",gap:4},children:g.map((n,s)=>p(C,{content:n,onSplitChange:c=>e(c,s)},n+s.toString()))},"v2")]})};export{N as default};
