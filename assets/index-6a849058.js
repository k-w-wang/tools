import{r as c,j as p,T as o,a as e,C as g,S as x,I as y,B as T}from"./index-bc28e02e.js";import{T as k}from"./Table-fb30d8aa.js";import{m as I}from"./index-16da95ca.js";const u=(l,i=0,s="id",n="children")=>[].concat(...l.map(r=>{const d=JSON.parse(JSON.stringify(r[n]));return Reflect.deleteProperty(r,n),[].concat({...r,pId:i},...u(d,r[s],s,n))})),{Title:a}=o,v=[{id:1,children:[{id:2,children:[{id:3,children:[]}]},{id:6,children:[]}]},{id:4,children:[{id:5,children:[]}]}],A=()=>{const[l,i]=c.exports.useState(()=>JSON.stringify(v,null,4)),[s,n]=c.exports.useState(),r=t=>{i(t)},d=()=>{try{const t=JSON.parse(l),f=u(t);n(JSON.stringify(f,null,4))}catch(t){console.log(t),I.error(t.message)}},h=[{key:"1",params:"arr",explain:"必填，需要转化的嵌套树结构数据",type:"arr[]  ",default:"-"},{key:"2",params:"pId",explain:"可选项, 第一层节点的父节点ID",type:"string ｜ number",default:"0"},{key:"3",params:"pKey",explain:"可选项, 父节点id的key值",type:"string",default:"id"},{key:"4",params:"childKey",explain:"可选项, 嵌套的子节点key值",type:"string",default:"children"}],m=[{title:"参数",dataIndex:"params",key:"params"},{title:"说明",dataIndex:"explain",key:"explain"},{title:"类型",dataIndex:"type",key:"type"},{title:"默认值",dataIndex:"default",key:"default"}];return p(o,{children:[e(g,{placeholder:"add commnt",onPost:t=>{console.log(t)},imgUrl:"https://p3-passport.byteimg.com/img/user-avatar/dbe68af40bc02e65b8f1ff4a191c1ad8~100x100.awebp"}),e(a,{children:"TreeToFlat"}),e(a,{level:5,children:"TreeToFlat是一个把嵌套树结构转化为数组结构的方法。"}),e(a,{level:3,children:"代码演示"}),e(a,{level:4,children:"基础用法"}),p(x,{children:[e(y.TextArea,{style:{width:400},rows:30,onChange:t=>r(t.target.value),value:l}),e(T,{type:"primary",onClick:d,children:"转化"}),e(y.TextArea,{style:{width:400},rows:30,value:s})]}),e(a,{level:3,children:"API"}),e("pre",{children:e(o.Text,{code:!0,children:"nestedToFlat(arr: any[], pId?: string | number | undefined, pKey?: string | undefined, childKey?: string | undefined): any[]"})}),e(a,{level:3,children:"Params"}),e(k,{dataSource:h,columns:m,pagination:!1})]})};export{A as default};
